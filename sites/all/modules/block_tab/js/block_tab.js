// $Id$

(function($) {
  Drupal.behaviors.BlockTab = {
    attach: function() {
      $('.block_tab-block').hide();
      $('.block_tab-block:first', '.block_tab-blocks').show();

      $('.block_tab-title').click(function() {
        var region = $(this).parent().attr('region');
        var id  = $(this).attr('id').replace(/block_tab-title-/, '', 'gi');

        $('[region="' + region + '"] .block_tab-block').hide();
        $('[region="' + region + '"] .block_tab-title').removeClass('active');

        $('[region="' + region + '"] #block_tab-block-' + id).fadeIn('fast');
        $(this).addClass('active');
      });
    }
  }
})(jQuery)
